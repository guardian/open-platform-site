!function(pe){var e,he=this||(0,eval)("this"),be=he.document,ge=he.navigator,me=he.jQuery,ve=he.JSON;e=function(e){function n(e,t){return(null===e||typeof e in I)&&e===t}function R(e,t){var n;return function(){n=n||setTimeout(function(){n=pe,e()},t)}}function L(e,t){var n;return function(){clearTimeout(n),n=setTimeout(e,t)}}function t(e,s,c,l){E.d[e]={init:function(a,r,e,t,i){var o,u;return E.ba(function(){var e=E.a.c(r()),t=!c!=!e,n=!u;(n||s||t!==o)&&(n&&E.ca.fa()&&(u=E.a.lb(E.e.childNodes(a),!0)),t?(n||E.e.U(a,E.a.lb(u)),E.gb(l?l(i,e):i,a)):E.e.da(a),o=t)},null,{G:a}),{controlsDescendantBindings:!0}}},E.g.aa[e]=!1,E.e.Q[e]=!0}var a,r,o,u,i,E=void 0!==e?e:{};function f(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function s(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function c(e,t){return e.__proto__=t,e}E.b=function(e,t){for(var n=e.split("."),a=E,r=0;r<n.length-1;r++)a=a[n[r]];a[n[n.length-1]]=t},E.s=function(e,t,n){e[t]=n},E.version="3.1.0",E.b("version",E.version),E.a=(a={__proto__:[]}instanceof Array,r={},(j={})[ge&&/Firefox\/2/i.test(ge.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],j.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),f(j,function(e,t){if(t.length)for(var n=0,a=t.length;n<a;n++)r[t[n]]=e}),o={propertychange:!0},u=be&&function(){for(var e=3,t=be.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",n[0];);return 4<e?e:pe}(),{mb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],r:function(e,t){for(var n=0,a=e.length;n<a;n++)t(e[n],n)},l:function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1},hb:function(e,t,n){for(var a=0,r=e.length;a<r;a++)if(t.call(n,e[a],a))return e[a];return null},ma:function(e,t){t=E.a.l(e,t);0<t?e.splice(t,1):0===t&&e.shift()},ib:function(e){for(var t=[],n=0,a=(e=e||[]).length;n<a;n++)E.a.l(t,e[n])<0&&t.push(e[n]);return t},ya:function(e,t){for(var n=[],a=0,r=(e=e||[]).length;a<r;a++)n.push(t(e[a],a));return n},la:function(e,t){for(var n=[],a=0,r=(e=e||[]).length;a<r;a++)t(e[a],a)&&n.push(e[a]);return n},$:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,a=t.length;n<a;n++)e.push(t[n]);return e},Y:function(e,t,n){var a=E.a.l(E.a.Sa(e),t);a<0?n&&e.push(t):n||e.splice(a,1)},na:a,extend:s,ra:c,sa:a?c:s,A:f,Oa:function(e,t){if(!e)return e;var n,a={};for(n in e)e.hasOwnProperty(n)&&(a[n]=t(e[n],n,e));return a},Fa:function(e){for(;e.firstChild;)E.removeNode(e.firstChild)},ec:function(e){e=E.a.R(e);for(var t=be.createElement("div"),n=0,a=e.length;n<a;n++)t.appendChild(E.M(e[n]));return t},lb:function(e,t){for(var n=0,a=e.length,r=[];n<a;n++){var i=e[n].cloneNode(!0);r.push(t?E.M(i):i)}return r},U:function(e,t){if(E.a.Fa(e),t)for(var n=0,a=t.length;n<a;n++)e.appendChild(t[n])},Bb:function(e,t){var n=e.nodeType?[e]:e;if(0<n.length){for(var a=n[0],r=a.parentNode,i=0,o=t.length;i<o;i++)r.insertBefore(t[i],a);for(i=0,o=n.length;i<o;i++)E.removeNode(n[i])}},ea:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.shift();if(1<e.length){var n=e[0],a=e[e.length-1];for(e.length=0;n!==a;)if(e.push(n),!(n=n.nextSibling))return;e.push(a)}}return e},Db:function(e,t){u<7?e.setAttribute("selected",t):e.selected=t},ta:function(e){return null===e||e===pe?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},oc:function(e,t){for(var n=[],a=(e||"").split(t),r=0,i=a.length;r<i;r++){var o=E.a.ta(a[r]);""!==o&&n.push(o)}return n},kc:function(e,t){return!(t.length>(e=e||"").length)&&e.substring(0,t.length)===t},Sb:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(3===e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e},Ea:function(e){return E.a.Sb(e,e.ownerDocument.documentElement)},eb:function(e){return!!E.a.hb(e,E.a.Ea)},B:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},q:function(t,e,n){var a=u&&o[e];if(!a&&me)me(t).bind(e,n);else if(a||"function"!=typeof t.addEventListener){if(void 0===t.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");function r(e){n.call(t,e)}var i="on"+e;t.attachEvent(i,r),E.a.u.ja(t,function(){t.detachEvent(i,r)})}else t.addEventListener(e,n,!1)},ha:function(e,t){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var n=!("input"!==E.a.B(e)||!e.type||"click"!=t.toLowerCase())&&("checkbox"==(n=e.type)||"radio"==n);if(me&&!n)me(e).trigger(t);else if("function"==typeof be.createEvent){if("function"!=typeof e.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");(n=be.createEvent(r[t]||"HTMLEvents")).initEvent(t,!0,!0,he,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(n)}else if(n&&e.click)e.click();else{if(void 0===e.fireEvent)throw Error("Browser doesn't support triggering events");e.fireEvent("on"+t)}},c:function(e){return E.v(e)?e():e},Sa:function(e){return E.v(e)?e.o():e},ua:function(e,t,n){var a,r;t&&(r=e.className.match(a=/\S+/g)||[],E.a.r(t.match(a),function(e){E.a.Y(r,e,n)}),e.className=r.join(" "))},Xa:function(e,t){var t=E.a.c(t),n=(null!==t&&t!==pe||(t=""),E.e.firstChild(e));!n||3!=n.nodeType||E.e.nextSibling(n)?E.e.U(e,[e.ownerDocument.createTextNode(t)]):n.data=t,E.a.Vb(e)},Cb:function(e,t){if(e.name=t,u<=7)try{e.mergeAttributes(be.createElement("<input name='"+e.name+"'/>"),!1)}catch(e){}},Vb:function(e){9<=u&&((e=1==e.nodeType?e:e.parentNode).style&&(e.style.zoom=e.style.zoom))},Tb:function(e){var t;u&&(t=e.style.width,e.style.width=0,e.style.width=t)},ic:function(e,t){e=E.a.c(e),t=E.a.c(t);for(var n=[],a=e;a<=t;a++)n.push(a);return n},R:function(e){for(var t=[],n=0,a=e.length;n<a;n++)t.push(e[n]);return t},mc:6===u,nc:7===u,oa:u,ob:function(e,t){for(var n=E.a.R(e.getElementsByTagName("input")).concat(E.a.R(e.getElementsByTagName("textarea"))),a="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},r=[],i=n.length-1;0<=i;i--)a(n[i])&&r.push(n[i]);return r},fc:function(e){return"string"==typeof e&&(e=E.a.ta(e))?ve&&ve.parse?ve.parse(e):new Function("return "+e)():null},Ya:function(e,t,n){if(ve&&ve.stringify)return ve.stringify(E.a.c(e),t,n);throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js")},gc:function(e,t,n){var a=(n=n||{}).params||{},r=n.includeFields||this.mb,i=e;if("object"==typeof e&&"form"===E.a.B(e))for(var i=e.action,o=r.length-1;0<=o;o--)for(var u=E.a.ob(e,r[o]),s=u.length-1;0<=s;s--)a[u[s].name]=u[s].value;t=E.a.c(t);var c,l=be.createElement("form");for(c in l.style.display="none",l.action=i,l.method="post",t)e=be.createElement("input"),e.name=c,e.value=E.a.Ya(E.a.c(t[c])),l.appendChild(e);f(a,function(e,t){var n=be.createElement("input");n.name=e,n.value=t,l.appendChild(n)}),be.body.appendChild(l),n.submitter?n.submitter(l):l.submit(),setTimeout(function(){l.parentNode.removeChild(l)},0)}}),E.b("utils",E.a),E.b("utils.arrayForEach",E.a.r),E.b("utils.arrayFirst",E.a.hb),E.b("utils.arrayFilter",E.a.la),E.b("utils.arrayGetDistinctValues",E.a.ib),E.b("utils.arrayIndexOf",E.a.l),E.b("utils.arrayMap",E.a.ya),E.b("utils.arrayPushAll",E.a.$),E.b("utils.arrayRemoveItem",E.a.ma),E.b("utils.extend",E.a.extend),E.b("utils.fieldsIncludedWithJsonPost",E.a.mb),E.b("utils.getFormFields",E.a.ob),E.b("utils.peekObservable",E.a.Sa),E.b("utils.postJson",E.a.gc),E.b("utils.parseJson",E.a.fc),E.b("utils.registerEventHandler",E.a.q),E.b("utils.stringifyJson",E.a.Ya),E.b("utils.range",E.a.ic),E.b("utils.toggleDomNodeCssClass",E.a.ua),E.b("utils.triggerEvent",E.a.ha),E.b("utils.unwrapObservable",E.a.c),E.b("utils.objectForEach",E.a.A),E.b("utils.addOrRemoveItem",E.a.Y),E.b("unwrap",E.a.c),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice.call(arguments);return e=n.shift(),function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}}),E.a.f=new function(){function a(e,t){var n=e[i];if(!n||"null"===n||!o[n]){if(!t)return pe;n=e[i]="ko"+r++,o[n]={}}return o[n]}var r=0,i="__ko__"+(new Date).getTime(),o={};return{get:function(e,t){e=a(e,!1);return e===pe?pe:e[t]},set:function(e,t,n){n===pe&&a(e,!1)===pe||(a(e,!0)[t]=n)},clear:function(e){var t=e[i];return!!t&&(delete o[t],!(e[i]=null))},L:function(){return r+++i}}},E.b("utils.domData",E.a.f),E.b("utils.domData.clear",E.a.f.clear),E.a.u=new function(){function a(e,t){var n=E.a.f.get(e,i);return n===pe&&t&&E.a.f.set(e,i,n=[]),n}function r(e){if(t=a(e,!1))for(var t=t.slice(0),n=0;n<t.length;n++)t[n](e);if(E.a.f.clear(e),E.a.u.cleanExternalData(e),u[e.nodeType])for(t=e.firstChild;e=t;)t=e.nextSibling,8===e.nodeType&&r(e)}var i=E.a.f.L(),o={1:!0,8:!0,9:!0},u={1:!0,9:!0};return{ja:function(e,t){if("function"!=typeof t)throw Error("Callback must be a function");a(e,!0).push(t)},Ab:function(e,t){var n=a(e,!1);n&&(E.a.ma(n,t),0==n.length&&E.a.f.set(e,i,pe))},M:function(e){if(o[e.nodeType]&&(r(e),u[e.nodeType])){var t=[];E.a.$(t,e.getElementsByTagName("*"));for(var n=0,a=t.length;n<a;n++)r(t[n])}return e},removeNode:function(e){E.M(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){me&&"function"==typeof me.cleanData&&me.cleanData([e])}}},E.M=E.a.u.M,E.removeNode=E.a.u.removeNode,E.b("cleanNode",E.M),E.b("removeNode",E.removeNode),E.b("utils.domNodeDisposal",E.a.u),E.b("utils.domNodeDisposal.addDisposeCallback",E.a.u.ja),E.b("utils.domNodeDisposal.removeDisposeCallback",E.a.u.Ab),E.a.Qa=function(e){if(me){if(me.parseHTML)n=me.parseHTML(e)||[];else if((n=me.clean([e]))&&n[0]){for(e=n[0];e.parentNode&&11!==e.parentNode.nodeType;)e=e.parentNode;e.parentNode&&e.parentNode.removeChild(e)}}else{var t=E.a.ta(e).toLowerCase(),n=be.createElement("div");for(e="ignored<div>"+(t=(t.match(/^<(thead|tbody|tfoot)/)?[1,"<table>","</table>"]:!t.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"])||(!t.indexOf("<td")||!t.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""])[1]+e+t[2]+"</div>","function"==typeof he.innerShiv?n.appendChild(he.innerShiv(e)):n.innerHTML=e;t[0]--;)n=n.lastChild;n=E.a.R(n.lastChild.childNodes)}return n},E.a.Va=function(e,t){if(E.a.Fa(e),null!==(t=E.a.c(t))&&t!==pe)if("string"!=typeof t&&(t=t.toString()),me)me(e).html(t);else for(var n=E.a.Qa(t),a=0;a<n.length;a++)e.appendChild(n[a])},E.b("utils.parseHtmlFragment",E.a.Qa),E.b("utils.setHtml",E.a.Va),E.w=(i={},{Na:function(e){if("function"!=typeof e)throw Error("You can only pass a function to ko.memoization.memoize()");var t=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return i[t]=e,"\x3c!--[ko_memo:"+t+"]--\x3e"},Hb:function(e,t){var n=i[e];if(n===pe)throw Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return n.apply(null,t||[]),!0}finally{delete i[e]}},Ib:function(e,t){var n=[];!function e(t,n){if(t)if(8==t.nodeType)null!=(a=E.w.xb(t.nodeValue))&&n.push({Rb:t,cc:a});else if(1==t.nodeType)for(var a=0,r=t.childNodes,i=r.length;a<i;a++)e(r[a],n)}(e,n);for(var a=0,r=n.length;a<r;a++){var i=n[a].Rb,o=[i];t&&E.a.$(o,t),E.w.Hb(n[a].cc,o),i.nodeValue="",i.parentNode&&i.parentNode.removeChild(i)}},xb:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:null}}),E.b("memoization",E.w),E.b("memoization.memoize",E.w.Na),E.b("memoization.unmemoize",E.w.Hb),E.b("memoization.parseMemoText",E.w.xb),E.b("memoization.unmemoizeDomNodeAndDescendants",E.w.Ib),E.Ga={throttle:function(t,n){t.throttleEvaluation=n;var a=null;return E.h({read:t,write:function(e){clearTimeout(a),a=setTimeout(function(){t(e)},n)}})},rateLimit:function(e,t){var n,a,r;"number"==typeof t?n=t:(n=t.timeout,a=t.method),r="notifyWhenChangesStop"==a?L:R,e.Ma(function(e){return r(e,n)})},notify:function(e,t){e.equalityComparer="always"==t?null:n}};var l,d,p,I={undefined:1,boolean:1,number:1,string:1},h=(E.b("extenders",E.Ga),E.Fb=function(e,t,n){this.target=e,this.za=t,this.Qb=n,this.sb=!1,E.s(this,"dispose",this.F)},E.Fb.prototype.F=function(){this.sb=!0,this.Qb()},E.N=function(){E.a.sa(this,E.N.fn),this.H={}},"change");function b(e){d.push(l),l=e}function V(){l=d.pop()}E.s(e={V:function(e,t,n){var a=this,r=(n=n||h,new E.Fb(a,t?e.bind(t):e,function(){E.a.ma(a.H[n],r)}));return a.o&&a.o(),a.H[n]||(a.H[n]=[]),a.H[n].push(r),r},notifySubscribers:function(e,t){if(this.qb(t=t||h))try{E.k.jb();for(var n,a=this.H[t].slice(0),r=0;n=a[r];++r)n.sb||n.za(e)}finally{E.k.end()}},Ma:function(e){var t,n,a,r=this,i=E.v(r),o=(r.ia||(r.ia=r.notifySubscribers,r.notifySubscribers=function(e,t){t&&t!==h?"beforeChange"===t?r.bb(e):r.ia(e,t):r.cb(e)}),e(function(){i&&a===r&&(a=r()),t=!1,r.Ka(n,a)&&r.ia(n=a)}));r.cb=function(e){t=!0,a=e,o()},r.bb=function(e){t||(n=e,r.ia(e,"beforeChange"))}},qb:function(e){return this.H[e]&&this.H[e].length},Wb:function(){var n=0;return E.a.A(this.H,function(e,t){n+=t.length}),n},Ka:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},extend:function(e){var n=this;return e&&E.a.A(e,function(e,t){e=E.Ga[e];"function"==typeof e&&(n=e(n,t)||n)}),n}},"subscribe",e.V),E.s(e,"extend",e.extend),E.s(e,"getSubscriptionsCount",e.Wb),E.a.na&&E.a.ra(e,Function.prototype),E.N.fn=e,E.tb=function(e){return null!=e&&"function"==typeof e.V&&"function"==typeof e.notifySubscribers},E.b("subscribable",E.N),E.b("isSubscribable",E.tb),E.ca=E.k=(d=[],p=0,{jb:b,end:V,zb:function(e){if(l){if(!E.tb(e))throw Error("Only subscribable things can act as dependencies");l.za(e,e.Kb||(e.Kb=++p))}},t:function(e,t,n){try{return b(),e.apply(t,n||[])}finally{V()}},fa:function(){if(l)return l.ba.fa()},pa:function(){if(l)return l.pa}}),E.b("computedContext",E.ca),E.b("computedContext.getDependenciesCount",E.ca.fa),E.b("computedContext.isInitial",E.ca.pa),E.m=function(e){function t(){return 0<arguments.length?(t.Ka(n,arguments[0])&&(t.P(),n=arguments[0],t.O()),this):(E.k.zb(t),n)}var n=e;return E.N.call(t),E.a.sa(t,E.m.fn),t.o=function(){return n},t.O=function(){t.notifySubscribers(n)},t.P=function(){t.notifySubscribers(n,"beforeChange")},E.s(t,"peek",t.o),E.s(t,"valueHasMutated",t.O),E.s(t,"valueWillMutate",t.P),t},E.m.fn={equalityComparer:n};var F,q,g,H,J,P,m,v,z,U,W,y,w,x=E.m.hc="__ko_proto__",k=(E.m.fn[x]=E.m,E.a.na&&E.a.ra(E.m.fn,E.N.fn),E.Ha=function(e,t){return null!==e&&e!==pe&&e[x]!==pe&&(e[x]===t||E.Ha(e[x],t))},E.v=function(e){return E.Ha(e,E.m)},E.ub=function(e){return!!("function"==typeof e&&e[x]===E.m||"function"==typeof e&&e[x]===E.h&&e.Yb)},E.b("observable",E.m),E.b("isObservable",E.v),E.b("isWriteableObservable",E.ub),E.T=function(e){if("object"==typeof(e=e||[])&&"length"in e)return e=E.m(e),E.a.sa(e,E.T.fn),e.extend({trackArrayChanges:!0});throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.")},E.T.fn={remove:function(t){for(var e=this.o(),n=[],a="function"!=typeof t||E.v(t)?function(e){return e===t}:t,r=0;r<e.length;r++){var i=e[r];a(i)&&(0===n.length&&this.P(),n.push(i),e.splice(r,1),r--)}return n.length&&this.O(),n},removeAll:function(t){var e,n;return t===pe?(n=(e=this.o()).slice(0),this.P(),e.splice(0,e.length),this.O(),n):t?this.remove(function(e){return 0<=E.a.l(t,e)}):[]},destroy:function(t){var e=this.o(),n="function"!=typeof t||E.v(t)?function(e){return e===t}:t;this.P();for(var a=e.length-1;0<=a;a--)n(e[a])&&(e[a]._destroy=!0);this.O()},destroyAll:function(t){return t===pe?this.destroy(function(){return!0}):t?this.destroy(function(e){return 0<=E.a.l(t,e)}):[]},indexOf:function(e){var t=this();return E.a.l(t,e)},replace:function(e,t){e=this.indexOf(e);0<=e&&(this.P(),this.o()[e]=t,this.O())}},E.a.r("pop push reverse shift sort splice unshift".split(" "),function(t){E.T.fn[t]=function(){var e=this.o();return this.P(),this.kb(e,t,arguments),e=e[t].apply(e,arguments),this.O(),e}}),E.a.r(["slice"],function(t){E.T.fn[t]=function(){var e=this();return e[t].apply(e,arguments)}}),E.a.na&&E.a.ra(E.T.fn,E.m.fn),E.b("observableArray",E.T),"arrayChange");function G(a,r,i){if(i=i||new Q,"object"!=typeof(a=r(a))||null===a||a===pe||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var o=a instanceof Array?[]:{},e=(i.save(a,o),a),t=function(e){var t=r(a[e]);switch(typeof t){case"boolean":case"number":case"string":case"function":o[e]=t;break;case"object":case"undefined":var n=i.get(t);o[e]=n!==pe?n:G(t,r,i)}};if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(n in e)t(n);return o}function Q(){this.keys=[],this.ab=[]}function K(e){var t,n,a=[],r=(e=123===(e=E.a.ta(e)).charCodeAt(0)?e.slice(1,-1):e).match(g),i=0;if(r){r.push(",");for(var o,u=0;o=r[u];++u){var s=o.charCodeAt(0);if(44===s){if(i<=0){t&&a.push(n?{key:t,value:n.join("")}:{unknown:t}),t=n=i=0;continue}}else if(58===s){if(!n)continue}else if(47===s&&u&&1<o.length)(s=r[u-1].match(H))&&!J[s[0]]&&((r=(e=e.substr(e.indexOf(o)+1)).match(g)).push(","),u=-1,o="/");else if(40===s||123===s||91===s)++i;else if(41===s||125===s||93===s)--i;else if(!t&&!n){t=34===s||39===s?o.slice(1,-1):o;continue}n?n.push(o):n=[o]}}return a}function T(e){return 8==e.nodeType&&v.test(m?e.text:e.nodeValue)}function C(e){return 8==e.nodeType&&z.test(m?e.text:e.nodeValue)}function Y(e,t){for(var n=e,a=1,r=[];n=n.nextSibling;){if(C(n)&&0===--a)return r;r.push(n),T(n)&&a++}if(t)return null;throw Error("Cannot find closing comment tag to match: "+e.nodeValue)}function X(e,t){t=Y(e,t);return t?(0<t.length?t[t.length-1]:e).nextSibling:null}function Z(e){return function(){return e}}function ee(e){return e()}function te(n){return E.a.Oa(E.k.t(n),function(e,t){return function(){return n()[t]}})}function ne(e,t){return te(this.getBindings.bind(this,e,t))}function ae(e,t,n){var a,r=E.e.firstChild(t),i=E.J.instance,o=i.preprocessNode;if(o){for(;a=r;)r=E.e.nextSibling(a),o.call(i,a);r=E.e.firstChild(t)}for(;a=r;)r=E.e.nextSibling(a),re(e,a,n)}function re(e,t,n){var a=!0,r=1===t.nodeType;r&&E.e.wb(t),(a=r&&n||E.J.instance.nodeHasBindings(t)?ie(t,null,e,n).shouldBindDescendants:a)&&!W[E.a.B(t)]&&ae(e,t,!r)}function ie(r,e,i,t){var o,n,a,u,s,c,l,f,d,p,h,b=E.a.f.get(r,y);if(!e){if(b)throw Error("You cannot apply bindings multiple times to the same element.");E.a.f.set(r,y,!0)}return!b&&t&&E.Eb(r,i),e&&"function"!=typeof e?o=e:(n=E.J.instance,a=n.getBindingAccessors||ne,u=E.h(function(){return(o=e?e(i,r):a.call(n,r,i))&&i.D&&i.D(),o},null,{G:r}),o&&u.ga()||(u=null)),o&&(c=u?function(e){return function(){return ee(u()[e])}}:function(e){return o[e]},(l=function(){return E.a.Oa(u?u():o,ee)}).get=function(e){return o[e]&&c(e)()},l.has=function(e){return e in o},f=o,d=[],p={},h=[],E.a.A(f,function t(e){var n;p[e]||((n=E.getBindingHandler(e))&&(n.after&&(h.push(e),E.a.r(n.after,function(e){if(f[e]){if(-1!==E.a.l(h,e))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+h.join(", "));t(e)}}),h.length--),d.push({key:e,pb:n})),p[e]=!0)}),t=d,E.a.r(t,function(e){var t=e.pb.init,n=e.pb.update,a=e.key;if(8===r.nodeType&&!E.e.Q[a])throw Error("The binding '"+a+"' cannot be used with virtual elements");try{"function"==typeof t&&E.k.t(function(){var e=t(r,c(a),l,i.$data,i);if(e&&e.controlsDescendantBindings){if(s!==pe)throw Error("Multiple bindings ("+s+" and "+a+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");s=a}}),"function"==typeof n&&E.h(function(){n(r,c(a),l,i.$data,i)},null,{G:r})}catch(e){throw e.message='Unable to process binding "'+a+": "+o[a]+'"\nMessage: '+e.message,e}})),{shouldBindDescendants:s===pe}}function S(e){return e&&e instanceof E.I?e:new E.I(e)}E.Ga.trackArrayChanges=function(i){var f,d,p,o;i.kb||(f=!1,d=null,p=0,o=i.V,i.V=i.subscribe=function(e,t,n){var a,r;return n!==k||f||(f=!0,a=i.notifySubscribers,i.notifySubscribers=function(e,t){return t&&t!==h||++p,a.apply(this,arguments)},r=[].concat(i.o()||[]),d=null,i.V(function(e){var t;e=[].concat(e||[]),i.qb(k)&&(t=d=!d||1<p?E.a.Aa(r,e,{sparse:!0}):d).length&&i.notifySubscribers(t,k),r=e,d=null,p=0})),o.apply(this,arguments)},i.kb=function(e,t,n){function a(e,t,n){return r[r.length]={status:e,value:t,index:n}}if(f&&!p){var r=[],i=e.length,o=n.length,u=0;switch(t){case"push":u=i;case"unshift":for(t=0;t<o;t++)a("added",n[t],u+t);break;case"pop":u=i-1;case"shift":i&&a("deleted",e[u],u);break;case"splice":t=Math.min(Math.max(0,n[0]<0?i+n[0]:n[0]),i);for(var i=1===o?i:Math.min(t+(n[1]||0),i),o=t+o-2,u=Math.max(i,o),s=[],c=[],l=2;t<u;++t,++l)t<i&&c.push(a("deleted",e[t],t)),t<o&&s.push(a("added",n[l],t));E.a.nb(c,s);break;default:return}d=r}})},E.ba=E.h=function(e,t,n){function a(){d=!0,E.a.A(y,function(e,t){t.F()}),w=0,c=!(y={})}function r(){var e=o.throttleEvaluation;e&&0<=e?(clearTimeout(x),x=setTimeout(i,e)):o.wa?o.wa():i()}function i(){if(!l&&!d){if(m&&m()){if(!f)return void v()}else f=!1;l=!0;try{var n=y,a=w;E.k.jb({za:function(e,t){d||(a&&n[t]?(y[t]=n[t],++w,delete n[t],--a):y[t]||(y[t]=e.V(r),++w))},ba:o,pa:!w}),y={},w=0;try{var e=t?p.call(t):p()}finally{E.k.end(),a&&E.a.A(n,function(e,t){t.F()}),c=!1}o.Ka(s,e)&&(o.notifySubscribers(s,"beforeChange"),s=e,o.wa&&!o.throttleEvaluation||o.notifySubscribers(s))}finally{l=!1}w||v()}}function o(){if(0<arguments.length){if("function"!=typeof h)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return h.apply(t,arguments),this}return c&&i(),E.k.zb(o),s}function u(){return c||0<w}var s,c=!0,l=!1,f=!1,d=!1,p=e;if("function"!=typeof(p=p&&"object"==typeof p?(n=p).read:(n=n||{},p||n.read)))throw Error("Pass a function that returns the value of the ko.computed");var h=n.write,b=n.disposeWhenNodeIsRemoved||n.G||null,g=n.disposeWhen||n.Da,m=g,v=a,y={},w=0,x=null,k=(t=t||n.owner,E.N.call(o),E.a.sa(o,E.h.fn),o.o=function(){return c&&!w&&i(),s},o.fa=function(){return w},o.Yb="function"==typeof n.write,o.F=function(){v()},o.ga=u,o.Ma);return o.Ma=function(e){k.call(o,e),o.wa=function(){o.bb(s),c=!0,o.cb(o)}},E.s(o,"peek",o.o),E.s(o,"dispose",o.F),E.s(o,"isActive",o.ga),E.s(o,"getDependenciesCount",o.fa),b&&(f=!0,b.nodeType&&(m=function(){return!E.a.Ea(b)||g&&g()})),!0!==n.deferEvaluation&&i(),b&&u()&&b.nodeType&&(v=function(){E.a.u.Ab(b,v),a()},E.a.u.ja(b,v)),o},E.$b=function(e){return E.Ha(e,E.h)},e=E.m.hc,E.h[e]=E.m,E.h.fn={equalityComparer:n},E.h.fn[e]=E.h,E.a.na&&E.a.ra(E.h.fn,E.N.fn),E.b("dependentObservable",E.h),E.b("computed",E.h),E.b("isComputed",E.$b),E.Gb=function(e){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return G(e,function(e){for(var t=0;E.v(e)&&t<10;t++)e=e();return e})},E.toJSON=function(e,t,n){return e=E.Gb(e),E.a.Ya(e,t,n)},Q.prototype={save:function(e,t){var n=E.a.l(this.keys,e);0<=n?this.ab[n]=t:(this.keys.push(e),this.ab.push(t))},get:function(e){return 0<=(e=E.a.l(this.keys,e))?this.ab[e]:pe}},E.b("toJS",E.Gb),E.b("toJSON",E.toJSON),E.i={p:function(e){switch(E.a.B(e)){case"option":return!0===e.__ko__hasDomDataOptionValue__?E.a.f.get(e,E.d.options.Pa):!(E.a.oa<=7)||e.getAttributeNode("value")&&e.getAttributeNode("value").specified?e.value:e.text;case"select":return 0<=e.selectedIndex?E.i.p(e.options[e.selectedIndex]):pe;default:return e.value}},X:function(e,t,n){switch(E.a.B(e)){case"option":"string"==typeof t?(E.a.f.set(e,E.d.options.Pa,pe),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=t):(E.a.f.set(e,E.d.options.Pa,t),e.__ko__hasDomDataOptionValue__=!0,e.value="number"==typeof t?t:"");break;case"select":""!==t&&null!==t||(t=pe);for(var a,r=-1,i=0,o=e.options.length;i<o;++i)if((a=E.i.p(e.options[i]))==t||""==a&&t===pe){r=i;break}(n||0<=r||t===pe&&1<e.size)&&(e.selectedIndex=r);break;default:e.value=t=null!==t&&t!==pe?t:""}}},E.b("selectExtensions",E.i),E.b("selectExtensions.readValue",E.i.p),E.b("selectExtensions.writeValue",E.i.X),E.g=(F=["true","false","null","undefined"],q=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,g=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),H=/[\])"'A-Za-z0-9_$]+$/,J={in:1,return:1,typeof:1},{aa:[],W:P={},Ra:K,qa:function(e,t){function r(e,t){var n,a=E.getBindingHandler(e);a&&a.preprocess&&!(t=a.preprocess(t,e,r))||((a=P[e])&&(n=t,a=n=!(0<=E.a.l(F,n))&&(null!==(a=n.match(q))&&(a[1]?"Object("+a[1]+")"+a[2]:n))),a&&o.push("'"+e+"':function(_z){"+n+"=_z}"),i.push("'"+e+"':"+(t=u?"function(){return "+t+" }":t)))}var i=[],o=[],u=(t=t||{}).valueAccessors,t="string"==typeof e?K(e):e;return E.a.r(t,function(e){r(e.key||e.unknown,e.value)}),o.length&&r("_ko_property_writers","{"+o.join(",")+" }"),i.join(",")},bc:function(e,t){for(var n=0;n<e.length;n++)if(e[n].key==t)return!0;return!1},va:function(e,t,n,a,r){e&&E.v(e)?!E.ub(e)||r&&e.o()===a||e(a):(e=t.get("_ko_property_writers"))&&e[n]&&e[n](a)}}),E.b("expressionRewriting",E.g),E.b("expressionRewriting.bindingRewriteValidators",E.g.aa),E.b("expressionRewriting.parseObjectLiteral",E.g.Ra),E.b("expressionRewriting.preProcessBindings",E.g.qa),E.b("expressionRewriting._twoWayBindings",E.g.W),E.b("jsonExpressionRewriting",E.g),E.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",E.g.qa),m=be&&"\x3c!--test--\x3e"===be.createComment("test").text,v=m?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,z=m?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,U={ul:!0,ol:!0},E.e={Q:{},childNodes:function(e){return T(e)?Y(e):e.childNodes},da:function(e){if(T(e))for(var t=0,n=(e=E.e.childNodes(e)).length;t<n;t++)E.removeNode(e[t]);else E.a.Fa(e)},U:function(e,t){if(T(e)){E.e.da(e);for(var n=e.nextSibling,a=0,r=t.length;a<r;a++)n.parentNode.insertBefore(t[a],n)}else E.a.U(e,t)},yb:function(e,t){T(e)?e.parentNode.insertBefore(t,e.nextSibling):e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},rb:function(e,t,n){n?T(e)?e.parentNode.insertBefore(t,n.nextSibling):n.nextSibling?e.insertBefore(t,n.nextSibling):e.appendChild(t):E.e.yb(e,t)},firstChild:function(e){return T(e)?!e.nextSibling||C(e.nextSibling)?null:e.nextSibling:e.firstChild},nextSibling:function(e){return(e=T(e)?X(e):e).nextSibling&&C(e.nextSibling)?null:e.nextSibling},Xb:T,lc:function(e){return(e=(m?e.text:e.nodeValue).match(v))?e[1]:null},wb:function(e){if(U[E.a.B(e)]){var t=e.firstChild;if(t)do{if(1===t.nodeType){var n,a=t.firstChild,r=null;if(a)do{}while(r?r.push(a):T(a)?(n=X(a,!0))?a=n:r=[a]:C(a)&&(r=[a]),a=a.nextSibling);if(a=r)for(r=t.nextSibling,n=0;n<a.length;n++)r?e.insertBefore(a[n],r):e.appendChild(a[n])}}while(t=t.nextSibling)}}},E.b("virtualElements",E.e),E.b("virtualElements.allowedBindings",E.e.Q),E.b("virtualElements.emptyNode",E.e.da),E.b("virtualElements.insertAfter",E.e.rb),E.b("virtualElements.prepend",E.e.yb),E.b("virtualElements.setDomNodeChildren",E.e.U),E.J=function(){this.Nb={}},E.a.extend(E.J.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind");case 8:return E.e.Xb(e);default:return!1}},getBindings:function(e,t){var n=this.getBindingsString(e,t);return n?this.parseBindingsString(n,t,e):null},getBindingAccessors:function(e,t){var n=this.getBindingsString(e,t);return n?this.parseBindingsString(n,t,e,{valueAccessors:!0}):null},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return E.e.lc(e);default:return null}},parseBindingsString:function(t,e,n,a){try{var r,i,o,u=this.Nb,s=t+(a&&a.valueAccessors||"");return(o=u[s])||(r="with($context){with($data||{}){return{"+E.g.qa(t,a)+"}}}",i=new Function("$context","$element",r),o=u[s]=i),o(e,n)}catch(e){throw e.message="Unable to parse bindings.\nBindings value: "+t+"\nMessage: "+e.message,e}}}),E.J.instance=new E.J,E.b("bindingProvider",E.J),E.d={},W={script:!0},E.getBindingHandler=function(e){return E.d[e]},E.I=function(n,a,r,i){var t,o=this,u="function"==typeof n&&!E.v(n),s=E.h(function(){var e=u?n():n,t=E.a.c(e);return a?(a.D&&a.D(),E.a.extend(o,a),s&&(o.D=s)):(o.$parents=[],o.$root=t,o.ko=E),o.$rawData=e,o.$data=t,r&&(o[r]=t),i&&i(o,a,t),o.$data},null,{Da:function(){return t&&!E.a.eb(t)},G:!0});s.ga()&&((o.D=s).equalityComparer=null,t=[],s.Jb=function(e){t.push(e),E.a.u.ja(e,function(e){E.a.ma(t,e),t.length||(s.F(),o.D=s=pe)})})},E.I.prototype.createChildContext=function(e,t,n){return new E.I(e,this,t,function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),n&&n(e)})},E.I.prototype.extend=function(n){return new E.I(this.D||this.$data,this,null,function(e,t){e.$rawData=t.$rawData,E.a.extend(e,"function"==typeof n?n():n)})},y=E.a.f.L(),w=E.a.f.L(),E.Eb=function(e,t){if(2!=arguments.length)return E.a.f.get(e,w);E.a.f.set(e,w,t),t.D&&t.D.Jb(e)},E.xa=function(e,t,n){return 1===e.nodeType&&E.e.wb(e),ie(e,t,S(n),!0)},E.Lb=function(e,t,n){return n=S(n),E.xa(e,"function"==typeof t?te(t.bind(null,n,e)):E.a.Oa(t,Z),n)},E.gb=function(e,t){1!==t.nodeType&&8!==t.nodeType||ae(S(e),t,!0)},E.fb=function(e,t){if(!me&&he.jQuery&&(me=he.jQuery),t&&1!==t.nodeType&&8!==t.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");t=t||he.document.body,re(S(e),t,!0)},E.Ca=function(e){switch(e.nodeType){case 1:case 8:var t=E.Eb(e);if(t)return t;if(e.parentNode)return E.Ca(e.parentNode)}return pe},E.Pb=function(e){return(e=E.Ca(e))?e.$data:pe},E.b("bindingHandlers",E.d),E.b("applyBindings",E.fb),E.b("applyBindingsToDescendants",E.gb),E.b("applyBindingAccessorsToNode",E.xa),E.b("applyBindingsToNode",E.Lb),E.b("contextFor",E.Ca),E.b("dataFor",E.Pb);var oe,ue,N,_,D,B,A,j,se={class:"className",for:"htmlFor"},$=(E.d.attr={update:function(a,e){e=E.a.c(e())||{};E.a.A(e,function(e,t){var n=!1===(t=E.a.c(t))||null===t||t===pe;n&&a.removeAttribute(e),E.a.oa<=8&&e in se?(e=se[e],n?a.removeAttribute(e):a[e]=t):n||a.setAttribute(e,t.toString()),"name"===e&&E.a.Cb(a,n?"":t.toString())})}},E.d.checked={after:["value","attr"],init:function(a,r,i){function o(){return i.has("checkedValue")?E.a.c(i.get("checkedValue")):a.value}function e(){var e,t=a.checked,n=c?o():t;E.ca.pa()||l&&!t||(e=E.k.t(r),u?s!==n?(t&&(E.a.Y(e,n,!0),E.a.Y(e,s,!1)),s=n):E.a.Y(e,n,t):E.g.va(e,i,"checked",n,!0))}var u,s,c,t="checkbox"==a.type,l="radio"==a.type;(t||l)&&(u=t&&E.a.c(r())instanceof Array,s=u?o():pe,c=l||u,l&&!a.name&&E.d.uniqueName.init(a,function(){return!0}),E.ba(e,null,{G:a}),E.a.q(a,"click",e),E.ba(function(){var e=E.a.c(r());a.checked=u?0<=E.a.l(e,o()):t?e:o()===e},null,{G:a}))}},E.g.W.checked=!0,E.d.checkedValue={update:function(e,t){e.value=E.a.c(t())}},E.d.css={update:function(n,e){e=E.a.c(e());"object"==typeof e?E.a.A(e,function(e,t){t=E.a.c(t),E.a.ua(n,e,t)}):(e=String(e||""),E.a.ua(n,n.__ko__cssValue,!1),n.__ko__cssValue=e,E.a.ua(n,e,!0))}},E.d.enable={update:function(e,t){t=E.a.c(t());t&&e.disabled?e.removeAttribute("disabled"):t||e.disabled||(e.disabled=!0)}},E.d.disable={update:function(e,t){E.d.enable.update(e,function(){return!E.a.c(t())})}},E.d.event={init:function(e,i,o,u,s){var t=i()||{};E.a.A(t,function(r){"string"==typeof r&&E.a.q(e,r,function(e){var t,n=i()[r];if(n){try{var a=E.a.R(arguments);u=s.$data,a.unshift(u),t=n.apply(u,a)}finally{!0!==t&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1===o.get(r+"Bubble")&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},E.d.foreach={vb:function(n){return function(){var e=n(),t=E.a.Sa(e);return t&&"number"!=typeof t.length?(E.a.c(e),{foreach:t.data,as:t.as,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,beforeMove:t.beforeMove,afterMove:t.afterMove,templateEngine:E.K.Ja}):{foreach:e,templateEngine:E.K.Ja}}},init:function(e,t){return E.d.template.init(e,E.d.foreach.vb(t))},update:function(e,t,n,a,r){return E.d.template.update(e,E.d.foreach.vb(t),n,a,r)}},E.g.aa.foreach=!1,E.e.Q.foreach=!0,E.d.hasfocus={init:function(a,r,i){function e(e){a.__ko_hasfocusUpdating=!0;var t,n=a.ownerDocument;if("activeElement"in n){try{t=n.activeElement}catch(e){t=n.body}e=t===a}n=r(),E.g.va(n,i,"hasfocus",e,!0),a.__ko_hasfocusLastValue=e,a.__ko_hasfocusUpdating=!1}var t=e.bind(null,!0),n=e.bind(null,!1);E.a.q(a,"focus",t),E.a.q(a,"focusin",t),E.a.q(a,"blur",n),E.a.q(a,"focusout",n)},update:function(e,t){t=!!E.a.c(t());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===t||(t?e.focus():e.blur(),E.k.t(E.a.ha,null,[e,t?"focusin":"focusout"]))}},E.g.W.hasfocus=!0,E.d.hasFocus=E.d.hasfocus,E.g.W.hasFocus=!0,E.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){E.a.Va(e,t())}},t("if"),t("ifnot",!1,!0),t("with",!0,!1,function(e,t){return e.createChildContext(t)}),{});function ce(e,t,n,a){e=E.g.Ra(e);for(var r=E.g.aa,i=0;i<e.length;i++){var o=e[i].key;if(r.hasOwnProperty(o)){var u=r[o];if("function"==typeof u){if(o=u(e[i].value))throw Error(o)}else if(!u)throw Error("This template engine does not support the '"+o+"' binding within its templates")}}return n="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+E.g.qa(e,{valueAccessors:!0})+" } })()},'"+n.toLowerCase()+"')",a.createJavaScriptEvaluatorBlock(n)+t}function O(e,t,n){var a;for(t=E.e.nextSibling(t);e&&(a=e)!==t;)n(a,e=E.e.nextSibling(a))}function le(e,t){if(e.length){var r=e[0],i=e[e.length-1],n=r.parentNode,o=E.J.instance,u=o.preprocessNode;if(u){if(O(r,i,function(e,t){var n=e.previousSibling,a=u.call(o,e);a&&(e===r&&(r=a[0]||t),e===i&&(i=a[a.length-1]||n))}),e.length=0,!r)return;r===i?e.push(r):(e.push(r,i),E.a.ea(e,n))}O(r,i,function(e){1!==e.nodeType&&8!==e.nodeType||E.fb(t,e)}),O(r,i,function(e){1!==e.nodeType&&8!==e.nodeType||E.w.Ib(e,[t])}),E.a.ea(e,n)}}function M(e){return e.nodeType?e:0<e.length?e[0]:null}function fe(e,t,n,a,r){var i=(i=e&&M(e))&&i.ownerDocument,o=(r=r||{}).templateEngine||D;if(E.Za.Ub(n,o,i),"number"!=typeof(n=o.renderTemplate(n,a,r,i)).length||0<n.length&&"number"!=typeof n[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(i=!1,t){case"replaceChildren":E.e.U(e,n),i=!0;break;case"replaceNode":E.a.Bb(e,n),i=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+t)}return i&&(le(n,a),r.afterRender&&E.k.t(r.afterRender,null,[n,a.$data])),n}function de(e,t,n,a,r){for(var i,o,u,s,c=Math.min,l=Math.max,f=[],d=e.length,p=t.length,h=p-d||1,b=d+p+1,g=0;g<=d;g++)for(u=o,f.push(o=[]),s=c(p,g+h),i=l(0,g-1);i<=s;i++)o[i]=i?g?e[g-1]===t[i-1]?u[i-1]:c(u[i]||b,o[i-1]||b)+1:i+1:g+1;for(c=[],l=[],h=[],g=d,i=p;g||i;)p=f[g][i]-1,i&&p===f[g][i-1]?l.push(c[c.length]={status:n,value:t[--i],index:i}):g&&p===f[g-1][i]?h.push(c[c.length]={status:a,value:e[--g],index:g}):(--i,--g,r.sparse||c.push({status:"retained",value:t[i]}));return E.a.nb(l,h,10*d),c.reverse()}E.d.options={init:function(e){if("select"!==E.a.B(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(a,e,r){function t(){return E.a.la(a.options,function(e){return e.selected})}function i(e,t,n){var a=typeof t;return"function"==a?t(e):"string"==a?e[t]:n}function n(e,t){var n;u.length&&(n=0<=E.a.l(u,E.i.p(t[0])),E.a.Db(t[0],n),f&&!n&&E.k.t(E.a.ha,null,[a,"change"]))}var o,u,s=0!=a.length&&a.multiple?a.scrollTop:null,c=E.a.c(e()),l=r.get("optionsIncludeDestroyed"),f=(e={},u=a.multiple?E.a.ya(t(),E.i.p):0<=a.selectedIndex?[E.i.p(a.options[a.selectedIndex])]:[],c&&(void 0===c.length&&(c=[c]),o=E.a.la(c,function(e){return l||e===pe||null===e||!E.a.c(e._destroy)}),r.has("optionsCaption")&&(null!==(c=E.a.c(r.get("optionsCaption")))&&c!==pe&&o.unshift($))),!1);e.beforeRemove=function(e){a.removeChild(e)},c=n,r.has("optionsAfterRender")&&(c=function(e,t){n(0,t),E.k.t(r.get("optionsAfterRender"),null,[t[0],e!==$?e:pe])}),E.a.Ua(a,o,function(e,t,n){return n.length&&(u=n[0].selected?[E.i.p(n[0])]:[],f=!0),t=a.ownerDocument.createElement("option"),e===$?(E.a.Xa(t,r.get("optionsCaption")),E.i.X(t,pe)):(n=i(e,r.get("optionsValue"),e),E.i.X(t,E.a.c(n)),e=i(e,r.get("optionsText"),n),E.a.Xa(t,e)),[t]},e,c),E.k.t(function(){r.get("valueAllowUnset")&&r.has("value")?E.i.X(a,E.a.c(r.get("value")),!0):(a.multiple?u.length&&t().length<u.length:u.length&&0<=a.selectedIndex?E.i.p(a.options[a.selectedIndex])!==u[0]:u.length||0<=a.selectedIndex)&&E.a.ha(a,"change")}),E.a.Tb(a),s&&20<Math.abs(s-a.scrollTop)&&(a.scrollTop=s)}},E.d.options.Pa=E.a.f.L(),E.d.selectedOptions={after:["options","foreach"],init:function(n,a,r){E.a.q(n,"change",function(){var e=a(),t=[];E.a.r(n.getElementsByTagName("option"),function(e){e.selected&&t.push(E.i.p(e))}),E.g.va(e,r,"selectedOptions",t)})},update:function(e,t){if("select"!=E.a.B(e))throw Error("values binding applies only to SELECT elements");var n=E.a.c(t());n&&"number"==typeof n.length&&E.a.r(e.getElementsByTagName("option"),function(e){var t=0<=E.a.l(n,E.i.p(e));E.a.Db(e,t)})}},E.g.W.selectedOptions=!0,E.d.style={update:function(n,e){e=E.a.c(e()||{});E.a.A(e,function(e,t){t=E.a.c(t),n.style[e]=t||""})}},E.d.submit={init:function(a,r,e,t,i){if("function"!=typeof r())throw Error("The value for a submit binding must be a function");E.a.q(a,"submit",function(e){var t,n=r();try{t=n.call(i.$data,a)}finally{!0!==t&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}})}},E.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){E.a.Xa(e,t())}},E.e.Q.text=!0,E.d.uniqueName={init:function(e,t){t()&&(t="ko_unique_"+ ++E.d.uniqueName.Ob,E.a.Cb(e,t))}},E.d.uniqueName.Ob=0,E.d.value={after:["options","foreach"],init:function(n,a,r){function i(){o=!1;var e=a(),t=E.i.p(n);E.g.va(e,r,"value",t)}var e=["change"],t=r.get("valueUpdate"),o=!1;t&&(E.a.$(e,t="string"==typeof t?[t]:t),e=E.a.ib(e)),!E.a.oa||"input"!=n.tagName.toLowerCase()||"text"!=n.type||"off"==n.autocomplete||n.form&&"off"==n.form.autocomplete||-1!=E.a.l(e,"propertychange")||(E.a.q(n,"propertychange",function(){o=!0}),E.a.q(n,"focus",function(){o=!1}),E.a.q(n,"blur",function(){o&&i()})),E.a.r(e,function(e){var t=i;E.a.kc(e,"after")&&(t=function(){setTimeout(i,0)},e=e.substring(5)),E.a.q(n,e,t)})},update:function(e,t,n){var a,r=E.a.c(t());t=E.i.p(e),r!==t&&("select"===E.a.B(e)?(a=n.get("valueAllowUnset"),(n=function(){E.i.X(e,r,a)})(),a||r===E.i.p(e)?setTimeout(n,0):E.k.t(E.a.ha,null,[e,"change"])):E.i.X(e,r))}},E.g.W.value=!0,E.d.visible={update:function(e,t){var t=E.a.c(t()),n="none"!=e.style.display;t&&!n?e.style.display="":!t&&n&&(e.style.display="none")}},E.d.click={init:function(e,t,n,a,r){return E.d.event.init.call(this,e,function(){var e={};return e.click=t(),e},n,a,r)}},E.C=function(){},E.C.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},E.C.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},E.C.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){t=(t=t||be).getElementById(e);if(t)return new E.n.j(t);throw Error("Cannot find template with ID "+e)}if(1==e.nodeType||8==e.nodeType)return new E.n.Z(e);throw Error("Unknown template type: "+e)},E.C.prototype.renderTemplate=function(e,t,n,a){return e=this.makeTemplateSource(e,a),this.renderTemplateSource(e,t,n)},E.C.prototype.isTemplateRewritten=function(e,t){return!1===this.allowTemplateRewriting||this.makeTemplateSource(e,t).data("isRewritten")},E.C.prototype.rewriteTemplate=function(e,t,n){t=t((e=this.makeTemplateSource(e,n)).text()),e.text(t),e.data("isRewritten",!0)},E.b("templateEngine",E.C),E.Za=(oe=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,ue=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g,{Ub:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,function(e){return E.Za.dc(e,t)},n)},dc:function(e,i){return e.replace(oe,function(e,t,n,a,r){return ce(r,t,n,i)}).replace(ue,function(e,t){return ce(t,"\x3c!-- ko --\x3e","#comment",i)})},Mb:function(n,a){return E.w.Na(function(e,t){e=e.nextSibling;e&&e.nodeName.toLowerCase()===a&&E.xa(e,n,t)})}}),E.b("__tr_ambtns",E.Za.Mb),E.n={},E.n.j=function(e){this.j=e},E.n.j.prototype.text=function(){var e="script"===(e=E.a.B(this.j))?"text":"textarea"===e?"value":"innerHTML";if(0==arguments.length)return this.j[e];var t=arguments[0];"innerHTML"==e?E.a.Va(this.j,t):this.j[e]=t},N=E.a.f.L()+"_",E.n.j.prototype.data=function(e){if(1===arguments.length)return E.a.f.get(this.j,N+e);E.a.f.set(this.j,N+e,arguments[1])},_=E.a.f.L(),E.n.Z=function(e){this.j=e},E.n.Z.prototype=new E.n.j,E.n.Z.prototype.text=function(){var e;if(0==arguments.length)return(e=E.a.f.get(this.j,_)||{}).$a===pe&&e.Ba&&(e.$a=e.Ba.innerHTML),e.$a;E.a.f.set(this.j,_,{$a:arguments[0]})},E.n.j.prototype.nodes=function(){if(0==arguments.length)return(E.a.f.get(this.j,_)||{}).Ba;E.a.f.set(this.j,_,{Ba:arguments[0]})},E.b("templateSources",E.n),E.b("templateSources.domElement",E.n.j),E.b("templateSources.anonymousTemplate",E.n.Z),E.Wa=function(e){if(e!=pe&&!(e instanceof E.C))throw Error("templateEngine must inherit from ko.templateEngine");D=e},E.Ta=function(n,a,r,i,o){if(((r=r||{}).templateEngine||D)==pe)throw Error("Set a template engine before calling renderTemplate");var u;return o=o||"replaceChildren",i?(u=M(i),E.h(function(){var e=a&&a instanceof E.I?a:new E.I(E.a.c(a)),t=E.v(n)?n():"function"==typeof n?n(e.$data,e):n,e=fe(i,o,t,e,r);"replaceNode"==o&&(u=M(i=e))},null,{Da:function(){return!u||!E.a.Ea(u)},G:u&&"replaceNode"==o?u.parentNode:u})):E.w.Na(function(e){E.Ta(n,a,r,e,"replaceNode")})},E.jc=function(n,t,a,r,i){function o(e,t){le(t,s),a.afterRender&&a.afterRender(t,e)}function u(e,t){return s=i.createChildContext(e,a.as,function(e){e.$index=t}),fe(null,"ignoreTargetNode","function"==typeof n?n(e,s):n,s,a)}var s;return E.h(function(){var e=E.a.c(t)||[];void 0===e.length&&(e=[e]),e=E.a.la(e,function(e){return a.includeDestroyed||e===pe||null===e||!E.a.c(e._destroy)}),E.k.t(E.a.Ua,null,[r,e,u,a,o])},null,{G:r})},B=E.a.f.L(),E.d.template={init:function(e,t){t=E.a.c(t());return"string"==typeof t||t.name?E.e.da(e):(t=E.e.childNodes(e),t=E.a.ec(t),new E.n.Z(e).nodes(t)),{controlsDescendantBindings:!0}},update:function(e,t,n,a,r){var i,o=t();n=!0,a=null,"string"==typeof(t=E.a.c(o))?t={}:(o=t.name,(n="if"in t?E.a.c(t.if):n)&&"ifnot"in t&&(n=!E.a.c(t.ifnot)),i=E.a.c(t.data)),"foreach"in t?a=E.jc(o||e,n&&t.foreach||[],t,e,r):n?(r="data"in t?r.createChildContext(i,t.as):r,a=E.Ta(o||e,r,t,e)):E.e.da(e),r=a,(i=E.a.f.get(e,B))&&"function"==typeof i.F&&i.F(),E.a.f.set(e,B,r&&r.ga()?r:pe)}},E.g.aa.template=function(e){return 1==(e=E.g.Ra(e)).length&&e[0].unknown||E.g.bc(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},E.e.Q.template=!0,E.b("setTemplateEngine",E.Wa),E.b("renderTemplate",E.Ta),E.a.nb=function(e,t,n){if(e.length&&t.length)for(var a,r,i,o,u=a=0;(!n||u<n)&&(i=e[a]);++a){for(r=0;o=t[r];++r)if(i.value===o.value){i.moved=o.index,o.moved=i.index,t.splice(r,1),u=r=0;break}u+=r}},E.a.Aa=function(e,t,n){return n="boolean"==typeof n?{dontLimitMoves:n}:n||{},(e=e||[]).length<=(t=t||[]).length?de(e,t,"added","deleted",n):de(t,e,"deleted","added",n)},E.b("utils.compareArrays",E.a.Aa),A=E.a.f.L(),E.a.Ua=function(n,e,t,a,r){function i(e,t){g=s[t],p!==t&&(y[e]=g),g.Ia(p++),E.a.ea(g.S,n),f.push(g),b.push(g)}function o(t,n){if(t)for(var a=0,e=n.length;a<e;a++)n[a]&&E.a.r(n[a].S,function(e){t(e,a,n[a].ka)})}e=e||[],a=a||{};var u=E.a.f.get(n,A)===pe,s=E.a.f.get(n,A)||[],c=E.a.ya(s,function(e){return e.ka}),l=E.a.Aa(c,e,a.dontLimitMoves),f=[],d=0,p=0,h=[],b=[];e=[];for(var g,m,v,y=[],c=[],w=0;m=l[w];w++)switch(v=m.moved,m.status){case"deleted":v===pe&&((g=s[d]).h&&g.h.F(),h.push.apply(h,E.a.ea(g.S,n)),a.beforeRemove&&(e[w]=g,b.push(g))),d++;break;case"retained":i(w,d++);break;case"added":v!==pe?i(w,v):(g={ka:m.value,Ia:E.m(p++)},f.push(g),b.push(g),u||(c[w]=g))}o(a.beforeMove,y),E.a.r(h,a.beforeRemove?E.M:E.removeNode);for(var x,w=0,u=E.e.firstChild(n);g=b[w];w++){for(g.S||E.a.extend(g,function(t,n,a,r,i){var o=[],e=E.h(function(){var e=n(a,i,E.a.ea(o,t))||[];0<o.length&&(E.a.Bb(o,e),r&&E.k.t(r,null,[a,e,i])),o.length=0,E.a.$(o,e)},null,{G:t,Da:function(){return!E.a.eb(o)}});return{S:o,h:e.ga()?e:pe}}(n,t,g.ka,r,g.Ia)),d=0;l=g.S[d];u=l.nextSibling,x=l,d++)l!==u&&E.e.rb(n,l,x);!g.Zb&&r&&(r(g.ka,g.S,g.Ia),g.Zb=!0)}o(a.beforeRemove,e),o(a.afterMove,y),o(a.afterAdd,c),E.a.f.set(n,A,f)},E.b("utils.setDomNodeChildrenFromArrayMapping",E.a.Ua),E.K=function(){this.allowTemplateRewriting=!1},E.K.prototype=new E.C,E.K.prototype.renderTemplateSource=function(e){var t=E.a.oa<9||!e.nodes?null:e.nodes();return t?E.a.R(t.cloneNode(!0).childNodes):(e=e.text(),E.a.Qa(e))},E.K.Ja=new E.K,E.Wa(E.K.Ja),E.b("nativeTemplateEngine",E.K),E.La=function(){var r=this.ac=function(){if(!me||!me.tmpl)return 0;try{if(0<=me.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(e,t,n){if(n=n||{},r<2)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var a=e.data("precompiled");return a||(a=e.text()||"",a=me.template(null,"{{ko_with $item.koBindingContext}}"+a+"{{/ko_with}}"),e.data("precompiled",a)),e=[t.$data],t=me.extend({koBindingContext:t},n.templateOptions),(t=me.tmpl(a,e,t)).appendTo(be.createElement("div")),me.fragments={},t},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){be.write("<script type='text/html' id='"+e+"'>"+t+"<\/script>")},0<r&&(me.tmpl.tag.ko_code={open:"__.push($1 || '');"},me.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},E.La.prototype=new E.C,0<(j=new E.La).ac&&E.Wa(j),E.b("jqueryTmplTemplateEngine",E.La)},"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?e(module.exports||exports):"function"==typeof define&&define.amd?define(["exports"],e):e(he.ko={})}();